{% extends "base.html" %}

{% block title %}My Saved Recipes - Food Recipe System{% endblock %}

{% block content %}
<div class="container">
  <div class="saved-header">
    <h1>My Saved Recipes</h1>
    {% if not_logged_in %}
      <div class="login-prompt">
        <p>Please <a href="{{ url_for('login') }}">login</a> to view and save your favorite recipes.</p>
      </div>
    {% else %}
      <p>You have saved <span class="saved-count">{{ recipes|length }}</span> recipes</p>
      
      <div class="recipe-grid" id="saved-recipes-container">
        {% if recipes %}
          {% for recipe in recipes %}
            <div class="recipe-card">
              <img src="{{ url_for('static', filename=recipe.image) }}" alt="{{ recipe.title }}">
              <div class="recipe-content">
                <h3>{{ recipe.title }}</h3>
                <p>{{ recipe.description[:100] }}{% if recipe.description|length > 100 %}...{% endif %}</p>
                <div class="recipe-meta">
                  <span><i class="far fa-clock"></i> {{ recipe.prep_time + recipe.cook_time }} mins</span>
                  <span><i class="fas fa-chart-line"></i> {{ recipe.difficulty }}</span>
                </div>
                <a href="{{ url_for('recipe_detail', recipe_id=recipe.id) }}" class="btn">View Recipe</a>
              </div>
            </div>
          {% endfor %}
        {% else %}
          <p class="no-results">You haven't saved any recipes yet.</p>
        {% endif %}
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}